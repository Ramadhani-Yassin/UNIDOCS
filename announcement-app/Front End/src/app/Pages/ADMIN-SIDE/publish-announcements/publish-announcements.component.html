<app-admin-nav></app-admin-nav>
<section id="content" [class.sidebar-collapsed]="!(sidebarService.isOpen$ | async)">
  <main>
    <div class="head-title">
      <div class="left">
        <h1>Publish Announcement</h1>
      </div>
    </div>

    <div class="publish-announcement-form">
      <form (ngSubmit)="submitAnnouncement()" #announcementForm="ngForm" autocomplete="off">
        <div class="form-group">
          <label for="title">Title <span>*</span></label>
          <input id="title" name="title" type="text" [(ngModel)]="form.title" required maxlength="100" placeholder="Enter announcement title" />
        </div>
        <div class="form-group">
          <label for="content">Content <span>*</span></label>
          <textarea id="content" name="content" [(ngModel)]="form.content" required rows="5" maxlength="1000" placeholder="Write your announcement here..."></textarea>
        </div>
        <div class="form-group">
          <label for="status">Status <span>*</span></label>
          <select id="status" name="status" [(ngModel)]="form.status" required>
            <option value="new">New</option>
            <option value="important">Important</option>
            <option value="update">Update</option>
          </select>
        </div>
        <div class="form-group">
          <label for="attachments">Attachments</label>
          <input id="attachments" name="attachments" type="file" (change)="onFileChange($event)" multiple />
        </div>
        <div class="form-actions">
          <button type="submit" [disabled]="isSubmitting || !announcementForm.form.valid">
            <i class="bx bx-send"></i>
            {{ isSubmitting ? 'Publishing...' : 'Publish Announcement' }}
          </button>
        </div>
        <div *ngIf="submitSuccess" class="success-message">
          <i class="bx bx-check-circle"></i> Announcement published successfully!
        </div>
        <div *ngIf="submitError" class="error-message">
          <i class="bx bx-error-circle"></i> {{ submitError }}
        </div>
      </form>
    </div>
  </main>
</section>